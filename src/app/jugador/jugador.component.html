<h1>JUGADORES</h1>
<p-button label="Crear Jugador" icon="pi pi-plus" (click)="abrirDialogo()"></p-button>

<p-table [value]="jugadores" [tableStyle]="{'min-width': '70rem'}">
  <ng-template pTemplate="header">
    <tr>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Edad</th>
      <th>Posición</th>
      <th>Dorsal</th>
      <th>Peso</th>
      <th>Altura</th>
      <th>Nacionalidad</th>
      <th>Administrador</th>
      <th>Acciones</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-jugador>
    <tr>
      <td>{{ jugador.nombre }}</td>
      <td>{{ jugador.apellido }}</td>
      <td>{{ jugador.edad }}</td>
      <td>{{ jugador.posicion }}</td>
      <td>{{ jugador.dorsal }}</td>
      <td>{{ jugador.peso }}</td>
      <td>{{ jugador.altura }}</td>
      <td>{{ jugador.nacionalidad }}</td>
      <td>{{ obtenerNombreAdmin(jugador.administrador) }}</td>
      <td>
        <button pButton icon="pi pi-pencil" (click)="editarJugador(jugador)" text></button>
        <button pButton icon="pi pi-times" (click)="eliminarJugador(jugador)" text></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog header="{{tituloDialogo}}" [(visible)]="visible" [modal]="true">
  <div class="grid grid-cols-2 gap-4">
    <input pInputText placeholder="Nombre" [(ngModel)]="jugadorDialogo.nombre" />
    <input pInputText placeholder="Apellido" [(ngModel)]="jugadorDialogo.apellido" />
    <input pInputText type="number" placeholder="Edad" [(ngModel)]="jugadorDialogo.edad" />
    <input pInputText placeholder="Posición" [(ngModel)]="jugadorDialogo.posicion" />
    <input pInputText type="number" placeholder="Dorsal" [(ngModel)]="jugadorDialogo.dorsal" />
    <input pInputText type="number" step="0.01" placeholder="Peso" [(ngModel)]="jugadorDialogo.peso" />
    <input pInputText type="number" step="0.01" placeholder="Altura" [(ngModel)]="jugadorDialogo.altura" />
    <input pInputText placeholder="Nacionalidad" [(ngModel)]="jugadorDialogo.nacionalidad" />

    <p-dropdown 
      [options]="administradores" 
      optionLabel="id" 
      optionValue="id"
      [(ngModel)]="jugadorDialogo.administrador"
      placeholder="Selecciona administrador">
    </p-dropdown>
  </div>

  <div class="flex justify-end mt-4 gap-2">
    <p-button label="Cancelar" severity="secondary" (click)="visible = false"></p-button>
    <p-button label="Guardar" (click)="guardarJugador()"></p-button>
  </div>
</p-dialog>
