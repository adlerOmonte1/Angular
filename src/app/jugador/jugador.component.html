<h1>Jugadores</h1>
<p-button label="Nuevo Jugador" icon="pi pi-plus" class="mr-2" (onClick)="abrirDialogo()" />

<p-table [value]="jugadores" [tableStyle]="{'min-width': '50rem'}">
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Edad</th>
      <th>Posición</th>
      <th>Dorsal</th>
      <th>Peso</th>
      <th>Altura</th>
      <th>Nacionalidad</th>
      <th>Imagen</th>
      <th>Administrador</th>
      <th>Opciones</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-jug>
    <tr>
      <td>{{ jug.id }}</td>
      <td>{{ jug.nombre }}</td>
      <td>{{ jug.apellido }}</td>
      <td>{{ jug.edad }}</td>
      <td>{{ jug.posicion }}</td>
      <td>{{ jug.dorsal }}</td>
      <td>{{ jug.peso }}</td>
      <td>{{ jug.altura }}</td>
      <td>{{ jug.nacionalidad }}</td>
      <td><img [src]="jug.imagen" alt="Imagen" width="50" height="50" /></td>
      <td>{{ jug.tipo_param }}</td>
      <td>
        <button pButton icon="pi pi-pencil" (click)="editarJugador(jug)" severity="secondary" text rounded></button>
        <button pButton icon="pi pi-trash" (click)="eliminarJugador(jug)" severity="danger" text rounded></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog header="{{ tituloDialogo }}" [(visible)]="visible" [modal]="true" [style]="{ width: '30rem' }">
  <div class="flex flex-col gap-4">
    <div class="flex gap-2">
      <label class="w-32">Nombre</label>
      <input type="text" pInputText [(ngModel)]="jugadorDialogo.nombre" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Apellido</label>
      <input type="text" pInputText [(ngModel)]="jugadorDialogo.apellido" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Edad</label>
      <input type="number" pInputText [(ngModel)]="jugadorDialogo.edad" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Posición</label>
      <input type="text" pInputText [(ngModel)]="jugadorDialogo.posicion" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Dorsal</label>
      <input type="number" pInputText [(ngModel)]="jugadorDialogo.dorsal" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Peso</label>
      <input type="number" pInputText [(ngModel)]="jugadorDialogo.peso" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Altura</label>
      <input type="number" pInputText [(ngModel)]="jugadorDialogo.altura" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Nacionalidad</label>
      <input type="text" pInputText [(ngModel)]="jugadorDialogo.nacionalidad" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Imagen</label>
      <p-fileUpload mode="basic" name="imagen" accept="image/*" chooseLabel="Elegir Imagen" (onSelect)="onImagenSeleccionada($event)" />
    </div>
    <div class="flex gap-2">
      <label class="w-32">Administrador</label>
      <p-dropdown [options]="administradores" [(ngModel)]="administradorSeleccionado" optionLabel="id" placeholder="Seleccione uno" />
    </div>
    <div class="flex justify-end gap-2">
      <p-button label="Cancelar" (click)="visible = false" severity="secondary" />
      <p-button label="Guardar" (click)="guardarJugador()" />
    </div>
  </div>
</p-dialog>