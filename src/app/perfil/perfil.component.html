<p-card header="Mi Perfil" styleClass="perfil-card">
  <div class="perfil-contenido">
    <div class="perfil-columna">
      <p><i class="pi pi-user mr-2 text-primary"></i><strong>Usuario:</strong> {{ usuario.username }}</p>
      <p><i class="pi pi-id-card mr-2 text-primary"></i><strong>Nombre:</strong> {{ usuario.first_name }} {{ usuario.last_name }}</p>
      <p><i class="pi pi-envelope mr-2 text-primary"></i><strong>Correo:</strong> {{ usuario.email }}</p>
      <p><i class="pi pi-phone mr-2 text-primary"></i><strong>Teléfono:</strong> {{ usuario.telefono }}</p>
    </div>
    <div class="perfil-columna">
      <p><i class="pi pi-credit-card mr-2 text-primary"></i><strong>DNI:</strong> {{ usuario.dni }}</p>
      <p><i class="pi pi-calendar mr-2 text-primary"></i><strong>Fecha Nac.:</strong> {{ usuario.fechaNac | date:'yyyy-MM-dd' }}</p>
      <p><i class="pi pi-star mr-2 text-primary"></i><strong>Alias:</strong> {{ espectador.alias }}</p>
    </div>
  </div>
  <div class="perfil-acciones">
    <p-button label="Editar" icon="pi pi-pencil" class="p-button-outlined" (click)="abrirDialogEditar()"></p-button>
  </div>
</p-card>


<!-- Diálogo de edición -->
<p-dialog header="Editar Perfil" [(visible)]="mostrarDialog" [modal]="true" [style]="{width: '600px'}" [closable]="false">
  <div class="perfil-form">
    <div class="form-group">
      <label for="username">Usuario</label>
      <input id="username" type="text" pInputText [(ngModel)]="usuario.username" readonly />
    </div>
    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input id="nombre" type="text" pInputText [(ngModel)]="usuario.first_name" />
    </div>
    <div class="form-group">
      <label for="apellido">Apellido</label>
      <input id="apellido" type="text" pInputText [(ngModel)]="usuario.last_name" />
    </div>
    <div class="form-group">
      <label for="email">Correo</label>
      <input id="email" type="email" pInputText [(ngModel)]="usuario.email" />
    </div>
    <div class="form-group">
      <label for="telefono">Teléfono</label>
      <input id="telefono" type="text" pInputText [(ngModel)]="usuario.telefono" />
    </div>
    <div class="form-group">
      <label for="dni">DNI</label>
      <input id="dni" type="text" pInputText [(ngModel)]="usuario.dni" />
    </div>
    <div class="form-group">
      <label for="fechaNac">Fecha de Nacimiento</label>
      <p-datepicker id="fechaNac" [(ngModel)]="usuario.fechaNac" dateFormat="yy-mm-dd"></p-datepicker>
    </div>
    <div class="form-group">
      <label for="alias">Alias</label>
      <input id="alias" type="text" pInputText [(ngModel)]="espectador.alias" />
    </div>
  </div>

  <ng-template pTemplate="footer">
    <div class="perfil-buttons">
      <p-button label="Guardar" icon="pi pi-check" class="p-button-success p-mr-2" (click)="guardarPerfil(); mostrarDialog = false"></p-button>
      <p-button label="Cancelar" icon="pi pi-times" class="p-button-secondary" (click)="cancelarEdicion(); mostrarDialog = false"></p-button>
    </div>
  </ng-template>
</p-dialog>
