<h1>Administradores</h1>

<p-button label="Crear Administrador" icon="pi pi-plus" class="mr-2" (click)="abrirDialogo()"></p-button>

<p-table [value]="administradores">
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Tipo Administrador</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-administrador>
    <tr>
      <td>{{ administrador.id }}</td>
      <td>{{ administrador.tipo_admin.tipo }}</td>
      <td>
        <div class="flex items-center justify-center gap-2">
          <button pButton icon="pi pi-pencil" (click)="editarAdministrador(administrador)" text rounded severity="secondary" title="Editar administrador"></button>
          <button pButton icon="pi pi-times" (click)="eliminarAdministrador(administrador)" text rounded severity="secondary" title="Eliminar administrador"></button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>

<!-- Dialogo para crear o editar administrador -->
<p-dialog header="{{tituloDialogo}}" [(visible)]="visible" [modal]="true" [style]="{ width: '400px' }">
  

  <div class="flex items-center gap-4 mb-4">
    <label for="tipo_admin" class="font-semibold w-24">Tipo de Administrador</label>
    <input pInputText id="tipo_admin" class="flex-auto" autocomplete="off" [(ngModel)]="administradorDialog.tipo_admin"/>
  </div>

  <div class="flex justify-end gap-2">
    <p-button label="Cancelar" severity="secondary" (click)="visible = false"></p-button>
    <p-button label="Guardar" (click)="guardarAdministrador()"></p-button>
  </div>
</p-dialog>
