<h1>Administradores</h1>

<p-button label="Nuevo Administrador" icon="pi pi-plus" class="mr-2" (onClick)="abrirDialogo()" />

<p-table [value]="administradores" [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Tipo Administrador</th>
      <th>Opciones</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-adm>
    <tr>
      <td>{{ adm.id }}</td>
      <td>{{ getNombreTipo(adm.tipo_admin) }}</td>
      <td>
        <div class="flex items-center justify-center gap-2">
          <button
            pButton
            pRipple
            type="button"
            icon="pi pi-pencil"
            (click)="editarAdministrador(adm)"
            text
            rounded
            severity="secondary">
          </button>
          <button
            pButton
            pRipple
            type="button"
            icon="pi pi-times"
            (click)="eliminarAdministrador(adm)"
            text
            rounded
            severity="secondary">
          </button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog header="Creación/Edición de Administrador" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
  <div class="flex items-center gap-4 mb-4">
    <label for="id" class="font-semibold w-24">ID</label>
    <input pInputText id="id" class="flex-auto" autocomplete="off" [(ngModel)]="administradorDialogo.id" />
  </div>
  <div class="flex items-center gap-4 mb-4">
    <label for="tipo" class="font-semibold w-24">Tipo</label>
    <p-dropdown
      [options]="tiposadmin"
      [(ngModel)]="tipoSeleccionado"
      optionLabel="tipo"
      optionValue="id"
      placeholder="Seleccionar tipo"
      class="flex-auto">
    </p-dropdown>
  </div>
  <div class="flex justify-end gap-2">
    <p-button label="Cancelar" severity="secondary" (click)="visible = false" />
    <p-button label="guardar" (click)="guardarAdministrador()" />
  </div>
</p-dialog>
